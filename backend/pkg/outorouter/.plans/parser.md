# Parserを作ろう

metadata.jsonに記載されたルーティングルールを解析し、各種クライアントコードを生成するための中間表現を生成する。

## 達成したいこと

- metadata.jsonに記載されたルーティングルールを正確に解析する
- 解析結果を中間表現として保持し、後続のコード生成ステップで利用できるようにする
- 将来的な拡張に対応できる柔軟な設計にする
- エラーハンドリングを適切に行い、解析失敗時に有用な情報を提供する
- Table Driven Testを通じて解析ロジックの正確性を保証する (テストは日本語で記述)
- パフォーマンスを考慮し、大規模なmetadata.jsonでも効率的に解析できるようにする
- コードの可読性と保守性を高めるため、適切なコメントとドキュメントを追加する
- Goの標準ライブラリや一般的なパッケージを活用し、再利用性の高いコードを書く

## Extension Goals

- Strategyパターンを用いて、解析後の中間表現を様々なフォーマットで出力できるようにする
  - 最初はGo, TypeScriptの型定義を生成する戦略を実装 
    - TypeScriptの型定義はinterface形式で出力し、ルーティングは1Request1Responseのオブジェクトを1エンドポイントとし、Record型でまとめる
  - 将来的にはDartや他の言語にも対応できるように拡張可能にする
- Linterを組み込み、解析後の中間表現の品質をチェックする
  - 命名規則や型の一貫性など、一般的なベストプラクティスに基づくルールを適用
  - Linterの結果をレポートとして出力し、改善点を明示する
- E2Eテストコードの自動生成
  - ベースは生成されたGoコードを利用
  - 解析結果を基に、各エンドポイントに対するE2Eテストコードの雛形を生成
  - テストコード生成のカスタマイズオプションを提供し、特定の要件に対応可能にする