# 要件定義書 (Requirements)

## 1. プロジェクト概要

### 1.1 プロジェクト名
ゴミマップアプリ

### 1.2 プロジェクトの目的
都市部におけるゴミ箱の配置状況を可視化し、ゴミ箱が不足している場所や既存のゴミ箱の位置情報を共有することで、より良い街づくりに貢献する。

## 2. 解決したい課題

### 2.1 課題1: ゴミ箱が足りていない場所がわからない
- **現状**: ゴミが溢れている場所があっても、その情報が共有されていない
- **影響**: 街の美化が損なわれ、住民の生活環境が悪化する
- **解決策**: ユーザーがゴミが溢れている場所を報告し、マップ上で可視化する

### 2.2 課題2: ゴミ箱が存在している場所がわからない
- **現状**: 近くにゴミ箱があるかどうかがわからない
- **影響**: ゴミを持ち歩く時間が長くなり、適切な場所に捨てられない
- **解決策**: 既存のゴミ箱の位置情報をマップ上で共有する

## 3. 機能要件

### 3.1 MVP (Minimum Viable Product) 機能

#### 3.1.1 マップ表示機能
- **概要**: 地図上にゴミ箱情報を表示する
- **詳細**:
  - react-native-maps を使用
  - 現在地の表示
  - マップのズーム・パン操作
  - ゴミ箱マーカーの表示

#### 3.1.2 ゴミ箱情報の参照機能
- **概要**: マップ上に表示されているゴミ箱の詳細情報を確認する
- **詳細**:
  - マーカータップで詳細情報を表示
  - 表示情報:
    - 位置情報（緯度・経度）
    - 投稿日時
    - 説明文（文字列）
    - 画像（複数枚対応）
    - ゴミ箱の状態（正常/溢れている/破損など）

#### 3.1.3 ゴミ箱情報の投稿機能
- **概要**: 新しいゴミ箱情報をマップに追加する
- **詳細**:
  - 現在地またはマップ上で位置を選択
  - 文字列による説明文の入力
  - 画像のアップロード（カメラ撮影またはギャラリーから選択）
  - ゴミ箱の状態を選択（正常/溢れている/破損など）
  - 投稿の保存

#### 3.1.4 ゴミ箱情報の一覧表示機能
- **概要**: マップ上のゴミ箱情報を一覧で確認する
- **詳細**:
  - リスト形式での表示
  - 距離順・日時順でのソート
  - フィルタリング機能（状態別、日付別など）

### 3.2 将来実装予定の機能（MVP外）

- ユーザー認証・アカウント管理
- ゴミ箱情報の編集・削除
- コメント・評価機能
- 通知機能（新しいゴミ箱情報の追加など）
- 統計情報の表示
- オフライン対応
- 多言語対応

## 4. 非機能要件

### 4.1 パフォーマンス
- マップの読み込み時間: 3秒以内
- 画像のアップロード: 10秒以内（1MB以下の画像）
- APIレスポンス時間: 1秒以内

### 4.2 可用性
- サービス稼働率: 95%以上（MVP段階）

### 4.3 セキュリティ
- HTTPS通信の使用
- 画像ファイルサイズの制限（最大5MB）
- 入力値のバリデーション

### 4.4 ユーザビリティ
- 直感的なUI/UX
- タップ操作で簡単に情報を投稿できる
- マップ上で視覚的に情報を把握できる

### 4.5 互換性
- iOS: iOS 13以上
- Android: Android 8.0 (API 26) 以上

## 5. 制約事項

### 5.1 技術的制約
- フロントエンド: Expo + React Native
- バックエンド: Go
- マップ: react-native-maps
- 認証: MVPでは不要

### 5.2 ビジネス制約
- MVPは認証なしで動作する必要がある
- 無料で利用できる範囲での実装

## 6. 成功指標（KPI）

### 6.1 MVP段階
- ゴミ箱情報の投稿数: 100件以上
- アクティブユーザー数: 50人以上
- アプリのクラッシュ率: 1%以下

## 7. リスクと対策

### 7.1 技術的リスク
- **リスク**: マップAPIの利用制限
  - **対策**: 適切なキャッシュ戦略の実装
- **リスク**: 画像ストレージの容量
  - **対策**: 画像の圧縮・リサイズ機能の実装

### 7.2 ビジネスリスク
- **リスク**: 不適切な情報の投稿
  - **対策**: 投稿内容のバリデーション、将来的にはモデレーション機能

## 8. 用語集

- **ゴミ箱情報**: ゴミ箱の位置、状態、画像などの情報をまとめたデータ
- **マーカー**: マップ上に表示されるゴミ箱の位置を示すアイコン
- **状態**: ゴミ箱の状態（正常/溢れている/破損など）

